{"ast":null,"code":"import { GET_RECIPES, ADD_RECIPE, GET_DIETS, SRC_RECIPE, GET_RECIPEID, CLEAN_DETAIL, SET_CURRENT_PAGE, SORT_RECIPES, FILTER_BY_DIET } from \"./actions\";\nconst initialState = {\n  recipes: [],\n  dietOptions: [],\n  currentPage: 1,\n  selectedDietType: null\n};\nconst rootReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case GET_RECIPES:\n      return {\n        ...state,\n        recipes: action.payload\n      };\n    case ADD_RECIPE:\n      return {\n        ...state,\n        recipes: [...state.recipes, action.payload]\n      };\n    case GET_DIETS:\n      return {\n        ...state,\n        dietOptions: action.payload\n      };\n    case SRC_RECIPE:\n      return {\n        ...state,\n        recipes: action.payload\n      };\n    case GET_RECIPEID:\n      return {\n        ...state,\n        recipe: action.payload\n      };\n    case CLEAN_DETAIL:\n      return {\n        ...state,\n        recipes: []\n      };\n    case SET_CURRENT_PAGE:\n      return {\n        ...state,\n        currentPage: action.payload\n      };\n    case SORT_RECIPES:\n      const {\n        option,\n        direction\n      } = action.payload;\n      let sortedRecipes = [...state.recipes];\n      if (option === \"alphabetical\") {\n        sortedRecipes.sort((a, b) => {\n          if (direction === \"asc\") {\n            return a.name.localeCompare(b.name);\n          } else {\n            return b.name.localeCompare(a.name);\n          }\n        });\n      } else if (option === \"healthScore\") {\n        sortedRecipes.sort((a, b) => {\n          if (direction === \"asc\") {\n            return a.healthScore - b.healthScore;\n          } else {\n            return b.healthScore - a.healthScore;\n          }\n        });\n      }\n      return {\n        ...state,\n        recipes: sortedRecipes\n      };\n    case FILTER_BY_DIET:\n      {\n        const filteredRecipes = action.payload === 'all' ? state.recipes // Si se selecciona \"All\", se muestran todas las recetas\n        : state.recipes.filter(recipe => {\n          if (recipe.diets.length) {\n            let i = 0;\n            while (i < recipe.diets.length) {\n              if (recipe.diets[i] === action.payload) return true;\n              i++;\n            }\n            return false;\n          } else {\n            if (recipe.diets === action.payload) return true;\n            return false;\n          }\n        });\n        return {\n          ...state,\n          recipe\n        };\n      }\n    default:\n      return state;\n  }\n};\nexport default rootReducer;","map":{"version":3,"names":["GET_RECIPES","ADD_RECIPE","GET_DIETS","SRC_RECIPE","GET_RECIPEID","CLEAN_DETAIL","SET_CURRENT_PAGE","SORT_RECIPES","FILTER_BY_DIET","initialState","recipes","dietOptions","currentPage","selectedDietType","rootReducer","state","arguments","length","undefined","action","type","payload","recipe","option","direction","sortedRecipes","sort","a","b","name","localeCompare","healthScore","filteredRecipes","filter","diets","i"],"sources":["C:/Users/Agus/Documents/Henry/Proyecto Individual/PI REAL/PI-Food-main/PI-Food-AgustinBoasso38a/client/src/redux/reducer.js"],"sourcesContent":["import {\r\n  GET_RECIPES,\r\n  ADD_RECIPE,\r\n  GET_DIETS,\r\n  SRC_RECIPE,\r\n  GET_RECIPEID,\r\n  CLEAN_DETAIL,\r\n  SET_CURRENT_PAGE,\r\n  SORT_RECIPES,\r\n  FILTER_BY_DIET,\r\n} from \"./actions\";\r\n\r\nconst initialState = {\r\n  recipes: [],\r\n  dietOptions: [],\r\n  currentPage: 1,\r\n  selectedDietType: null,\r\n};\r\n\r\nconst rootReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_RECIPES:\r\n      return {\r\n        ...state,\r\n        recipes: action.payload,\r\n      };\r\n    case ADD_RECIPE:\r\n      return {\r\n        ...state,\r\n        recipes: [...state.recipes, action.payload],\r\n      };\r\n    case GET_DIETS:\r\n      return {\r\n        ...state,\r\n        dietOptions: action.payload,\r\n      };\r\n    case SRC_RECIPE:\r\n      return {\r\n        ...state,\r\n        recipes: action.payload,\r\n      };\r\n    case GET_RECIPEID:\r\n      return {\r\n        ...state,\r\n        recipe: action.payload,\r\n      };\r\n    case CLEAN_DETAIL:\r\n      return {\r\n        ...state,\r\n        recipes: [],\r\n      };\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.payload,\r\n      };\r\n    case SORT_RECIPES:\r\n      const { option, direction } = action.payload;\r\n\r\n      let sortedRecipes = [...state.recipes];\r\n      if (option === \"alphabetical\") {\r\n        sortedRecipes.sort((a, b) => {\r\n          if (direction === \"asc\") {\r\n            return a.name.localeCompare(b.name);\r\n          } else {\r\n            return b.name.localeCompare(a.name);\r\n          }\r\n        });\r\n      } else if (option === \"healthScore\") {\r\n        sortedRecipes.sort((a, b) => {\r\n          if (direction === \"asc\") {\r\n            return a.healthScore - b.healthScore;\r\n          } else {\r\n            return b.healthScore - a.healthScore;\r\n          }\r\n        });\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        recipes: sortedRecipes,\r\n      };\r\n    case FILTER_BY_DIET: {\r\n      const filteredRecipes =\r\n      action.payload === 'all'\r\n        ? state.recipes // Si se selecciona \"All\", se muestran todas las recetas\r\n        : state.recipes.filter((recipe) => {\r\n          if(recipe.diets.length){\r\n            let i = 0;\r\n            while(i < recipe.diets.length){\r\n              if(recipe.diets[i] === action.payload) return true;\r\n              i++;\r\n              }\r\n              return false;\r\n            } else {\r\n              if(recipe.diets === action.payload) return true;\r\n              return false;\r\n            } \r\n          })\r\n          return {\r\n            ...state,\r\n            recipe\r\n          }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default rootReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}